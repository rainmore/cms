apply plugin: 'com.moowork.node'

node {
    // Version of node to use.
    version = '10.20.1'

    // Version of npm to use.
    npmVersion = '6.14.4'
}

description = 'UI webapp'
group = 'com.rainmore.webapp'

task build(type: NpmTask) {
    group "build"
    dependsOn npm_install
    args = ['run', 'build']
}

task clean(type: NpmTask) {
    group "build"
    args = ['run', 'clean']
}

task buildWatch(type: NpmTask) {
    group "build"
    dependsOn npm_install
    args = ['run', 'build', '--', '--configuration', 'watch', '--watch']

}

task buildProd(type: NpmTask) {
    group "build"
    dependsOn npm_install
    args = ['run', 'build', '--', '--prod']
}

task bootRun {
    group "application"
    dependsOn buildWatch
}


